<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AF1729 quiz</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4cb5ae;
            --text-color: #333;
            --light-color: #f5f5f5;
            --error-color: #e74c3c;
            --success-color: #2ecc71;
        }
        
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-color);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1, h2 {
            color: var(--primary-color);
            text-align: center;
        }
        p{
            text-align: center;
        }
        
        .container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-accent {
            background-color: var(--accent-color);
        }
        
        .btn-accent:hover {
            background-color: #3a9c96;
        }
        
        #welcome-screen, #quiz-screen, #results-screen, #editor-screen, #quiz-selection-screen {
            display: none;
        }
        
        #welcome-screen.active, #quiz-screen.active, #results-screen.active, #editor-screen.active, #quiz-selection-screen.active {
            display: block;
        }
        
        .options-container {
            margin: 20px 0;
        }
        
        .option {
            display: block;
            background-color: white;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            padding: 10px 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background-color: #e6f0fa;
        }
        
        .option.selected {
            background-color: var(--primary-color);
            color: white;
        }
        
        .option.correct {
            background-color: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }
        
        .option.incorrect {
            background-color: var(--error-color);
            color: white;
            border-color: var(--error-color);
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--accent-color);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .feedback {
            text-align: center;
            font-weight: bold;
            margin: 15px 0;
            padding: 10px;
            border-radius: 4px;
        }
        
        .feedback.correct {
            background-color: rgba(46, 204, 113, 0.2);
            color: var(--success-color);
        }
        
        .feedback.incorrect {
            background-color: rgba(231, 76, 60, 0.2);
            color: var(--error-color);
        }
        
        .result-summary {
            text-align: center;
            margin: 20px 0;
        }
        
        .score {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .percentage {
            display: block;
            font-size: 48px;
            color: var(--accent-color);
            margin: 20px 0;
        }
        
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        
        textarea {
            width: 100%;
            min-height: 250px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            resize: vertical;
        }
        
        .hint {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }
        
        .error-message {
            color: var(--error-color);
            margin-top: 10px;
        }
        
        .toggle-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 15px 0;
        }
        
        .toggle-label {
            margin-right: 10px;
            font-size: 16px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input { 
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--accent-color);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .quiz-list {
            margin: 20px 0;
        }
        
        .quiz-item {
            background-color: white;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .quiz-item:hover {
            background-color: #e6f0fa;
        }
        
        .quiz-title {
            font-weight: bold;
            font-size: 18px;
        }
        
        .quiz-info {
            color: #666;
            font-size: 14px;
        }
        
        .quiz-actions {
            display: flex;
        }
        
        .quiz-name-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div id="welcome-screen" class="container active">
        <h1>AF1729 quiz</h1>
        <p>Quiz frågor från gamla tentor. 60% för godkänt, allt under är icke godkänt.</p>
        
        <div class="toggle-container">
            <span class="toggle-label">Random position på svaren:</span>
            <label class="toggle-switch">
                <input type="checkbox" id="randomize-toggle" checked>
                <span class="slider"></span>
            </label>
        </div>
        
        <div class="toggle-container">
            <span class="toggle-label">Random position på frågorna:</span>
            <label class="toggle-switch">
                <input type="checkbox" id="randomize-questions-toggle" checked>
                <span class="slider"></span>
            </label>
        </div>
        
        <div class="controls">
            <button id="select-quiz-btn" class="btn">Välj Quiz</button>
            <button id="create-quiz-btn" class="btn btn-accent">Lägg till frågor</button>
        </div>
    </div>
    
    <div id="quiz-selection-screen" class="container">
        <h2>Välj Quiz</h2>
        
        <div id="quiz-list" class="quiz-list">
            <!-- Quiz items will be added here dynamically -->
        </div>
        
        <div class="controls">
            <button id="back-from-selection-btn" class="btn">Tillbaka</button>
        </div>
    </div>
    
    <div id="editor-screen" class="container">
        <h2>Lägg till frågor</h2>
        <p class="hint">skriv era frågor för quizet här, varje fråga behöver en "question"-text, en array med "options", och indexet för det "correct" svaret (0-baserat).</p>
        
        <input type="text" id="quiz-name-input" class="quiz-name-input" placeholder="Ange ett namn för quizet (t.ex. Quiz 1, Eurokoder, etc.)">
        
        <textarea id="quiz-editor" placeholder='[
  {
    "question": "What is the capital of France?",
    "options": ["London", "Berlin", "Paris", "Madrid"],
    "correct": 2
  },
  {
    "question": "Which planet is known as the Red Planet?",
    "options": ["Earth", "Mars", "Jupiter", "Venus"],
    "correct": 1
  }
]'></textarea>
        
        <div id="editor-error" class="error-message"></div>
        
        <div class="toggle-container">
            <span class="toggle-label">Random position på svaren:</span>
            <label class="toggle-switch">
                <input type="checkbox" id="editor-randomize-toggle" checked>
                <span class="slider"></span>
            </label>
        </div>
        
        <div class="toggle-container">
            <span class="toggle-label">Random position på frågorna:</span>
            <label class="toggle-switch">
                <input type="checkbox" id="editor-randomize-questions-toggle" checked>
                <span class="slider"></span>
            </label>
        </div>
        
        <div class="controls">
            <button id="save-quiz-btn" class="btn btn-accent">Spara Quiz</button>
            <button id="back-from-editor-btn" class="btn">Tillbaka</button>
        </div>
    </div>
    
    <div id="quiz-screen" class="container">
        <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>
        
        <h2 id="current-quiz-title">Quiz</h2>
        <h2 id="question-text">Frågor läggs här</h2>
        
        <div id="options-container" class="options-container">
            <!-- Options will be added here dynamically -->
        </div>
        
        <div id="feedback" class="feedback" style="display: none;"></div>
        
        <div class="controls">
            <button id="next-btn" class="btn">Nästa</button>
        </div>
    </div>
    
    <div id="results-screen" class="container">
        <h2>Quiz Resultat</h2>
        
        <div class="result-summary">
            <span class="percentage" id="percentage">0%</span>
            <p class="score">Du fick <span id="score">0</span> ut av <span id="total">0</span> frågor rätt.</p>
        </div>
        
        <div class="controls">
            <button id="restart-btn" class="btn">Starta om Quiz</button>
            <button id="select-another-btn" class="btn">Välj ett annat Quiz</button>
            <button id="home-btn" class="btn btn-accent">Tillbaka hem</button>
        </div>
    </div>
    
    <script>
        // Quiz state
        let quizzes = []; // Array to store all quizzes
        let currentQuizIndex = -1; // Index of the current quiz in the quizzes array
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedOptionIndex = -1;
        let answeredCurrentQuestion = false;
        let shouldRandomizeOptions = true;
        let shouldRandomizeQuestions = true;
        let currentOptionsMapping = [];
        
        // Sample quiz data
        const AF1729 = {
            name: "Quiz 1: AF1729",
            questions: [
            {
                question: "Vilket dokument innehåller Trafikverkets nationella val för valbara parametrar i Eurokoder i Sverige? (1p)",
                options: ["EKS 10", "Krav Brobyggande", "Råd Brobyggande", "TSFS (tidigare TRVFS)"],
                correct: 3
            },
            {
                question: "Vilken handling innehåller Trafikverkets krav för dimensionering av broar? (1p)",
                options: ["Krav Brobyggande", "Råd Brobyggande", "EKS 10", "TK Geo"],
                correct: 0
            },
            {
                question: "Vilket tillstånd råder i stadium II för armerat betongtvärsnitt? (1p)",
                options: ["Osprucket", "Sprucket", "Krossad betong i tryckt betong", "Plastisering i dragen armeringsjärn"],
                correct: 1
            },
            {
                question: "Ange vilket gränstillstånd inkluderar stadium I och II? (1p)",
                options: ["Bruksgränstillstånd", "Brottgränstillstånd", "Utmattningstillstånd", "Ingen av ovanstående alternativ"],
                correct: 0
            },
            {
                question: "Ange vilket gränstillstånd inkluderar stadium III? (1p)",
                options: ["Bruksgränstillstånd", "Brottgränstillstånd", "Utmattningstillstånd", "Ingen av ovanstående alternativ"],
                correct: 1
            },
            {
                question: "Välj kriteriet som inte styr valet av täckande betongskikt? (1p)",
                options: ["Utmattning", "Beständighet (exponeringsklass)", "Förankring (kraftöverföring)", "Ingen av ovanstående alternativ"],
                correct: 0
            },
            {
                question: "Frekvent lastkombination används för? (1p)",
                options: [
                    "Armering i Brottgränstillstånd (exponeringsklass)",
                    "Kontroll av uppsprickning",
                    "Armering m.h.t. krav på sprickvidd",
                    "Ingen av ovanstående alternativ"
                ],
                correct: 1
            },
            {
                question: "Kvasi-permanent lastkombination används för? (1p)",
                options: [
                    "Utmattning",
                    "Armering i Brottgränstillstånd (exponeringsklass)",
                    "Kontroll av uppsprickning",
                    "Armering m.h.t. krav på sprickvidd"
                ],
                correct: 3
            },
            {
                question: "Vid beräkning av grundläggnings stabilitet för bottenplatta för packad fyllning kontrolleras om konstruktionen glider (villkor för glidning). Vilka av följande krafter är drivande kraft för glidning?",
                options: ["Horisontell kraft (H)", "Vertikal kraft (V)", "Friktionskraft mellan bottenplatta och fyllning", "Friktionskraft mellan ballasten i fyllningen"],
                correct: 0
            },
            {
                question: "Vilken uppsättning av lastkoefficienter enligt Eurokoder används för kontroll av grundläggningsstabilitet för stödmur på packad fyllning?",
                options: ["Uppsättning A", "Uppsättning B", "Uppsättning C", "Ingen av ovanstående alternativ"],
                correct: 0
            },
            {
                question: "Vad skall väljas som minsta säkerhetsfaktor S vid kontroll av de tre kriterierna för grundläggningens stabilitet (Jämvikt) enligt ovan?",
                options: ["1", "1,5", "1,8", "2"],
                correct: 1
            },
            {
                question: "Vid kontroll av grundläggningens stabilitet skall ett antal lastfall studeras. Välj vilket lastfall som ger alltid lägsta säkerhetsfaktor S för kontroll av risk för glidning?",
                options: ["Vmin/Hmin", "Vmin/Hmax", "Vmax/Hmax", "Vmax/Hmin"],
                correct: 1
            },
            {
                question: "Vid kontroll av grundläggningens stabilitet beräknas tillhörande moment av alla karakteristiska laster till en specifik punkt (så kallade punkt A). Var ligger punkt A i stödmurens geometri?",
                options: ["Underkant av bottenplattans baktass", "Anslutningen mellan mur och bottenplatta", "Underkant av bottenplattans framtass", "Underkant av bottenplattans mittpunkt"],
                correct: 2
            },
            {
                question: "I fall låg säkerhetsfaktor S erhålls vid de tre kontrollerna av grundläggningens stabilitet, hur man förhöjer säkerhetsfaktorn S genom att ändra på stödmurens geometri?",
                options: ["Välj en högre mur", "Välj en breddare bottenplatta", "Välj en kortare bottenplatta", "Välj en breddare kantbalk"],
                correct: 1
            },
            {
                question: "Vid kontroll av grundläggningens stabilitet beräknas de drivande horisontella lasterna av jordtryck och överlast bakom en specifik punkt så kallade 'gardin'. Var placeras gardinen i stödmurens geometri?",
                options: ["Vid baktassens ände", "Vid murens insida", "Vid mitten av bottenplattans bredd", "Vid framtassens ände"],
                correct: 0
            },
            {
                question: "Vilken fördelning används för den förenklade modellen av grundpåverkan under bottenplatta?",
                options: ["Triangulär fördelning", "Rektangulär (konstant) fördelning", "Parabolisk fördelning", "Bilinjär fördelning"],
                correct: 1
            },
            {
                question: "I vilken uppsättning ingår formler 6.10a och 6.10b?",
                options: ["Uppsättning C", "Uppsättning A", "Uppsättning B", "Uppsättning D"],
                correct: 2
            },
            {
                question: "Hur många snitt i bottenplattans baktass är optimalt (minsta nödvändiga) för dimensionering av bottenplatta m.h.t. avkortningen av armering?",
                options: ["5 snitt", "3 snitt", "2 snitt", "1 snitt"],
                correct: 1
            },
            {
                question: "Var placeras horisontella laster av jordtryck och överlast vid dimensionering av mur?",
                options: ["Bakom muren", "Bakom bottenplattans baktass", "3 meter bakom bottenplattans baktass", "1 meter bakom bottenplattans baktass"],
                correct: 0
            },
            {
                question: "Hur påverkas jordtryckskoefficienten av en lutande mur som lutar mot jordfyllningen?",
                options: ["Ingen påverkan på koefficienten för jordtryck", "Reduktion av koefficienten för jordtryck", "Förhöjning av koefficienten för jordtryck", "Fördubbling av koefficienten för jordtryck"],
                correct: 1
            },
            {
                question: "Vad är beteckning för koefficienten för vilojordtryck?",
                options: ["Ka", "Ko", "Kp", "Ks"],
                correct: 1
            },
            {
                question: "Vilken jordtryckskoefficient används om stödmuren kan deformeras under verkande jordtryck?",
                options: ["Vilojordtryck", "Aktivt jordtryck", "Passivt jordtryck", "Ingen av ovanstående alternativ"],
                correct: 1
            },
            {
                question: "Vilken lastkoefficient används för grundpåverkan vid beräkning av största och minsta snittkraft (dvs V och H och Mill) i ett snitt i bottenplatta?",
                options: ["1,35", "1,5", "1,0", "1,35*0,89"],
                correct: 2
            },
            {
                question: "Hur många snitt i mur är optimalt (minsta nödvändiga) för dimensionering av mur m.h.t. avkortningen av armering?",
                options: ["5 snitt", "3 snitt", "2 snitt", "1 snitt"],
                correct: 1
            },
            {
                question: "Vilken av de nedanstående laster är variabellast?",
                options: ["Betongens egentyngd", "Fyllningens egentyngd", "Trafiklast ovanpå stödmurens jordfyllda sida (överlast)", "Beklädnad"],
                correct: 2
            }
            ],
            
        };

       const AF1766_1 = {
            name: "AF1766 kap 1, variabler",
            questions: [
  {
    "question": "Vem skapade Python?",
    "options": [
      "Dennis Ritchie",
      "Guido van Rossum",
      "James Gosling",
      "Bjarne Stroustrup"
    ],
    "correct": 1
  },
  {
    "question": "När släpptes Python för första gången?",
    "options": [
      "1985",
      "1991",
      "2000",
      "2008"
    ],
    "correct": 1
  },
  {
    "question": "Vilket av följande är inte en vanlig användning av Python?",
    "options": [
      "Webbutveckling",
      "Databasanslutningar",
      "Spelutveckling",
      "Maskinvaruinstallation"
    ],
    "correct": 3
  },
  {
    "question": "Vilken stor version av Python används i den här kursen?",
    "options": [
      "Python 2",
      "Python 3",
      "Python 1.5",
      "Python 4"
    ],
    "correct": 1
  },
  {
    "question": "Vilken av följande är en fördel med Python?",
    "options": [
      "Komplex syntax som kräver många rader kod",
      "Kompileras innan exekvering",
      "Enkel syntax som liknar engelska",
      "Fungerar endast på Windows"
    ],
    "correct": 2
  },
  {
    "question": "Vilken av följande är en integrerad utvecklingsmiljö (IDE) för Python?",
    "options": [
      "Microsoft Word",
      "Thonny",
      "Adobe Photoshop",
      "Google Chrome"
    ],
    "correct": 1
  },
  {
    "question": "Vad används indrag (indentering) till i Python?",
    "options": [
      "För att göra koden snyggare men det påverkar inte programmet",
      "För att definiera kodblock som loopar och funktioner",
      "För att markera kommentarer",
      "För att skilja variabler från funktioner"
    ],
    "correct": 1
  },
  {
    "question": "Hur skriver man ut text i Python?",
    "options": [
      "echo 'Hello, World!'",
      "print('Hello, World!')",
      "cout << 'Hello, World!';",
      "System.out.println('Hello, World!');"
    ],
    "correct": 1
  },
  {
    "question": "Hur körs Python-kod?",
    "options": [
      "Den kompileras till maskinkod innan körning",
      "Den tolkas och körs rad för rad",
      "Den måste alltid köras i en webbläsare",
      "Den måste först översättas till Java-kod"
    ],
    "correct": 1
  },
  {
    "question": "Vilket av följande är sant om Python?",
    "options": [
      "Python kan bara användas för webbapplikationer",
      "Python kan inte hantera databaser",
      "Python kan endast skrivas i IDLE Shell",
      "Python kan användas för både små och stora projekt"
    ],
    "correct": 3
  }      
            ]
        };     
       const AF1766_2 = {
            name: "AF1766 kap 2, variabler",
            questions: [
  {
    "question": "Hur kan du köra en Python-fil?",
    "options": [
      "Genom att dubbelklicka på filen i Utforskaren",
      "Genom att öppna filen i en webbläsare",
      "Genom att köra den i IDLE eller via kommandoraden",
      "Python-filer kan inte köras direkt"
    ],
    "correct": 2
  },
  {
    "question": "Vad används indrag (indentering) till i Python?",
    "options": [
      "För att göra koden mer läsbar",
      "För att markera början och slutet av kodblock",
      "För att skriva kommentarer i koden",
      "Indentering används inte i Python"
    ],
    "correct": 1
  },
  {
    "question": "Vad händer om du glömmer indrag i en if-sats?",
    "options": [
      "Python ignorerar det och kör koden ändå",
      "Python kastar ett syntaxfel",
      "Python gissar hur koden ska vara indenterad",
      "Ingenting händer, koden körs normalt"
    ],
    "correct": 1
  },
  {
    "question": "Hur skapar du en variabel i Python?",
    "options": [
      "var x = 5",
      "let x = 5",
      "x = 5",
      "int x = 5"
    ],
    "correct": 2
  },
  {
    "question": "Hur börjar du en kommentar i Python?",
    "options": [
      "//",
      "/* */",
      "#",
      "--"
    ],
    "correct": 2
  },
  {
    "question": "Vad används kommentarer till i Python?",
    "options": [
      "För att förklara kod och göra den mer läsbar",
      "För att göra koden snabbare",
      "För att skapa variabler",
      "För att skriva ut text till skärmen"
    ],
    "correct": 0
  },
  {
    "question": "Vad händer om du kommenterar bort en kodrad?",
    "options": [
      "Python hoppar över raden och kör den inte",
      "Python kör raden ändå",
      "Python ger ett syntaxfel",
      "Kommenterade rader används för att skapa loopar"
    ],
    "correct": 0
  },
  {
    "question": "Hur kan du skapa en flerradskommentar i Python?",
    "options": [
      "Med trippelcitat (''' eller \"\"\")",
      "Med // i början av varje rad",
      "Med /* och */ runt kommentaren",
      "Python stöder inte flerradskommentarer"
    ],
    "correct": 0
  },
  {
    "question": "Vilken av följande är en korrekt Python-kommentar?",
    "options": [
      "// This is a comment",
      "/* This is a comment */",
      "# This is a comment",
      "-- This is a comment"
    ],
    "correct": 2
  },
  {
    "question": "Vilket av följande påstående är sant om variabler i Python?",
    "options": [
      "Du måste deklarera variabler innan du använder dem",
      "Python har ett särskilt kommando för att deklarera variabler",
      "Python skapar en variabel automatiskt när du tilldelar den ett värde",
      "Variabler i Python måste alltid ha en datatyp specificerad"
    ],
    "correct": 2
  }           
            ]
        };     
        // New quiz data on Structural Engineering
        const AF1766_3 = {
            name: "AF1766 kap 3, variabler",
            questions: [
                {
                    "question": "Hur skapar man en variabel i Python? (1p)",
                    "options": ["Genom att använda 'var' nyckelordet", "Genom att tilldela ett värde till ett namn", "Genom att använda 'declare' nyckelordet", "Genom att skriva typen före variabelnamnet"],
                    "correct": 1
                },
                {
                    "question": "Vad händer om du tilldelar ett nytt värde med en annan datatyp till en befintlig variabel? (1p)",
                    "options": ["Python ger ett fel", "Variabeln byter typ automatiskt", "Python ignorerar ändringen", "Variabeln behåller sin ursprungliga typ"],
                    "correct": 1
                },
                {
                    "question": "Vilket kommando kan du använda för att ta reda på datatypen för en variabel? (1p)",
                    "options": ["typeof()", "datatype()", "checktype()", "type()"],
                    "correct": 3
                },
                {
                    "question": "Vilket av följande är ett giltigt variabelnamn? (1p)",
                    "options": ["2myvar", "my-var", "_my_var", "my var"],
                    "correct": 2
                },
                {
                    "question": "Vilket av följande är INTE en giltig metod för att namnge variabler i flera ord? (1p)",
                    "options": ["CamelCase", "PascalCase", "Snake_Case", "Dash-Case"],
                    "correct": 3
                },
                {
                    "question": "Vad händer om du försöker kombinera en sträng och ett tal med + i print()? (1p)",
                    "options": ["Python sammanfogar dem automatiskt", "Python konverterar numret till en sträng", "Python ger ett fel", "Python ignorerar operationen"],
                    "correct": 2
                },
                {
                    "question": "Hur kan du packa upp värden från en lista till variabler? (1p)",
                    "options": ["Genom att använda en for-loop", "Genom att indexera manuellt", "Genom att använda direkt tilldelning", "Det är inte möjligt i Python"],
                    "correct": 2
                },
                {
                    "question": "Vilket påstående om globala variabler är sant? (1p)",
                    "options": ["De kan endast användas inom funktionen där de definieras", "De kan endast användas i den fil där de skapades", "De kan användas både inom och utanför funktioner", "Python tillåter inte globala variabler"],
                    "correct": 2
                },
                {
                    "question": "Vad händer om du skapar en variabel med samma namn inuti en funktion som en global variabel? (1p)",
                    "options": ["Den globala variabeln ändras", "Den lokala variabeln används inom funktionen, och den globala påverkas inte", "Python ger ett fel", "Båda variablerna får samma värde"],
                    "correct": 1
                },
                {
                    "question": "Hur kan du ändra en global variabel inuti en funktion? (1p)",
                    "options": ["Genom att återdeklarera den i funktionen", "Genom att använda 'global' nyckelordet", "Genom att skicka den som ett argument", "Det går inte att ändra en global variabel i en funktion"],
                    "correct": 1
                }
            ]
        };
        const AF1766_4 = {
            name: "AF1766 kap 4, Datatyper",
            questions: [
                {
                    "question": "Vilken av följande är INTE en inbyggd datatypkategori i Python? (1p)",
                    "options": ["Text Type", "Numeric Types", "Array Type", "Boolean Type"],
                    "correct": 2
                },
                {
                    "question": "Hur hämtar du datatypen för en variabel 'x'? (1p)",
                    "options": ["gettype(x)", "type(x)", "datatype(x)", "typeof(x)"],
                    "correct": 1
                },
                {
                    "question": "Vilket uttryck skapar en lista med elementen 'apple', 'banana' och 'cherry'? (1p)",
                    "options": ["x = ('apple', 'banana', 'cherry')", "x = ['apple', 'banana', 'cherry']", "x = {'apple', 'banana', 'cherry'}", "x = frozenset({'apple', 'banana', 'cherry'})"],
                    "correct": 1
                },
                {
                    "question": "Vilken av följande är en sekvenstyp i Python? (1p)",
                    "options": ["dict", "range", "set", "bool"],
                    "correct": 1
                },
                {
                    "question": "Hur kan du explicit ange att du vill skapa en frozenset med elementen 'apple', 'banana' och 'cherry'? (1p)",
                    "options": ["x = set(['apple', 'banana', 'cherry'])", "x = frozenset(['apple', 'banana', 'cherry'])", "x = ['apple', 'banana', 'cherry']", "x = {'apple', 'banana', 'cherry'}"],
                    "correct": 1
                },
                {
                    "question": "Vilket av följande uttryck skapar en dict med nycklarna 'name' och 'age'? (1p)",
                    "options": [
                        "x = {'name': 'John', 'age': 36}",
                        "x = ('name', 'John', 'age', 36)",
                        "x = ['name', 'John', 'age', 36]",
                        "x = {'John', 36}"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilken syntax används för att ställa in datatypen med en constructorfunktion för att skapa en sträng? (1p)",
                    "options": ["x = str('Hello World')", "x = int('Hello World')", "x = bool('Hello World')", "x = float('Hello World')"],
                    "correct": 0
                },
                {
                    "question": "Vad blir datatypen för x i koden: x = bool(5)? (1p)",
                    "options": ["int", "str", "bool", "float"],
                    "correct": 2
                },
                {
                    "question": "Vilken av följande konstruktioner används för att skapa en tuple? (1p)",
                    "options": ["x = [1, 2, 3]", "x = (1, 2, 3)", "x = {1, 2, 3}", "x = range(3)"],
                    "correct": 1
                },
                {
                    "question": "Om du tar emot data via input(), vilken datatyp returneras då som standard? (1p)",
                    "options": ["int", "float", "str", "bool"],
                    "correct": 2
                }
                // Add more questions following the same format
            ]
        };
        const AF1766_5 = {
            name: "AF1766 kap 5-Numbers",
            questions: [
                {
                    "question": "Vilka numeriska datatyper finns i Python? (1p)",
                    "options": [
                        "int, float, complex",
                        "int, float, double",
                        "integer, float, complex",
                        "int, double, complex"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur skapas en komplex variabel i Python? (1p)",
                    "options": [
                        "z = 1",
                        "z = 1j",
                        "z = complex(1)",
                        "z = '1j'"
                    ],
                    "correct": 1
                },
                {
                    "question": "Vad gör funktionen type(x) i Python? (1p)",
                    "options": [
                        "Returnerar datatypen för x",
                        "Ändrar datatypen för x",
                        "Skriver ut värdet av x",
                        "Konverterar x till en sträng"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur skrivs ett heltal (int) i Python? (1p)",
                    "options": [
                        "Utan decimaler",
                        "Med decimaler",
                        "Som en sträng",
                        "Med exponentiell notation"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilket exempel visar korrekt exponentiell notation för ett flyttal? (1p)",
                    "options": [
                        "35e3",
                        "35e",
                        "3.14",
                        "1j"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad sker vid konvertering av ett flyttal till ett heltal med int()? (1p)",
                    "options": [
                        "Decimalerna tas bort",
                        "Decimalerna rundas upp",
                        "Python ger ett fel",
                        "Värdet förblir oförändrat"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur genererar du ett slumpmässigt tal mellan 1 och 9 med Python? (1p)",
                    "options": [
                        "random.randrange(1, 10)",
                        "random.random(1, 10)",
                        "random.randint(1, 9)",
                        "random.choice(range(1, 10))"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad är en literal i Python? (1p)",
                    "options": [
                        "Ett direkt inskrivet värde i koden",
                        "En variabel som refererar till ett värde",
                        "En funktion som returnerar ett värde",
                        "En metod för att konvertera datatyper"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilken funktion används för att konvertera en sträng som representerar ett tal till ett heltal? (1p)",
                    "options": [
                        "int()",
                        "float()",
                        "str()",
                        "complex()"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad är syftet med en f-string i Python? (1p)",
                    "options": [
                        "Att kombinera text med variabelvärden med hjälp av { }",
                        "Att generera slumpmässiga tal",
                        "Att konvertera datatyper",
                        "Att skapa en lista med variabler"
                    ],
                    "correct": 0
                }
            ]
        };
        const AF1766_6 = {
            name: "AF1766 kap 6 Strängar",
            questions: [
                {
                    "question": "Hur omges strängar i Python?",
                    "options": [
                        "Med enkla citattecken eller dubbla citattecken",
                        "Med hakparenteser",
                        "Med klamrar",
                        "Med snedstreck"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur skriver du ut en sträng i Python?",
                    "options": [
                        "Genom att använda funktionen print()",
                        "Genom att använda funktionen echo()",
                        "Genom att använda funktionen write()",
                        "Genom att använda funktionen output()"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur kan du inkludera citattecken i en sträng utan att orsaka fel?",
                    "options": [
                        "Genom att använda olika typer av citattecken eller escape-tecken",
                        "Genom att använda hakparenteser",
                        "Genom att kombinera strängar med + operatorn",
                        "Det går inte att inkludera citattecken i en sträng"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur skapar du en flerradssträng i Python?",
                    "options": [
                        "Med tre citattecken (''' eller \"\"\")",
                        "Genom att använda \\n-tecken",
                        "Med semikolon mellan raderna",
                        "Med dubbla citattecken runt varje rad"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur får du tillgång till ett enskilt tecken i en sträng, t.ex. det andra tecknet i \"Hello\"?",
                    "options": [
                        "Genom att använda indexering med hakparenteser (ex. sträng[1])",
                        "Genom att använda slice()-metoden",
                        "Genom att använda en for-loop",
                        "Genom att använda funktionen len()"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad returnerar funktionen len() när den används på en sträng?",
                    "options": [
                        "Antalet tecken i strängen",
                        "Det första tecknet i strängen",
                        "En kopia av strängen",
                        "Det sista tecknet i strängen"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur kontrollerar du om en viss substring, exempelvis \"free\", finns i en sträng?",
                    "options": [
                        "Genom att använda operatorn in, t.ex. if \"free\" in txt:",
                        "Genom att använda metoden contains()",
                        "Genom att använda metoden find() utan villkor",
                        "Genom att använda operatorn not in"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur skriver du ut en del av en sträng (slicing) från index 2 till 5 (exklusive index 5)?",
                    "options": [
                        "sträng[2:5]",
                        "sträng[2,5]",
                        "sträng.slice(2,5)",
                        "sträng[5:2]"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur kombinerar du två strängar, a och b, med ett mellanslag mellan dem?",
                    "options": [
                        "a + \" \" + b",
                        "a + b",
                        "a, b",
                        "a.concat(b)"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad är syftet med f-strängar i Python?",
                    "options": [
                        "Att infoga variabler direkt inuti strängar med hjälp av { }",
                        "Att konvertera strängar till tal",
                        "Att dela upp strängar i listor",
                        "Att ta bort blanksteg från strängar"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilket escape-tecken används för att infoga en ny rad i en sträng?",
                    "options": [
                        "\\n",
                        "\\t",
                        "\\r",
                        "\\b"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilken metod returnerar en version av en sträng med alla tecken i versaler?",
                    "options": [
                        "upper()",
                        "lower()",
                        "capitalize()",
                        "swapcase()"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilken metod används för att dela upp en sträng i en lista baserat på en given separator?",
                    "options": [
                        "split()",
                        "join()",
                        "partition()",
                        "replace()"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilken metod ersätter delar av en sträng med en annan sträng?",
                    "options": [
                        "replace()",
                        "split()",
                        "strip()",
                        "format()"
                    ],
                    "correct": 0
                }               // Add more questions following the same format
            ]
        };
        const AF1766_7 = {
            name: "AF1766 kap 7 Booleans",
            questions: [
                {
                    "question": "Vad representerar en boolean i Python?",
                    "options": [
                        "Ett av två värden: True eller False",
                        "Ett heltal",
                        "En sträng",
                        "En lista"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad returnerar uttrycket 10 > 9?",
                    "options": [
                        "True",
                        "False",
                        "10",
                        "9"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad returnerar uttrycket 10 == 9?",
                    "options": [
                        "True",
                        "False",
                        "10",
                        "9"
                    ],
                    "correct": 1
                },
                {
                    "question": "Vilket av följande uttryck returnerar False?",
                    "options": [
                        "bool(0)",
                        "bool('Hello')",
                        "bool(123)",
                        "bool(['apple', 'cherry', 'banana'])"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilket värde utvärderas till False i Python?",
                    "options": [
                        "En tom sträng",
                        "En icke-tom sträng",
                        "Ett icke-noll heltal",
                        "En icke-tom lista"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad returnerar funktionen bool() när den används på en variabel med innehållet 'Hello'?",
                    "options": [
                        "True",
                        "False",
                        "Variabeln oförändrad",
                        "Ett felmeddelande"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vad händer i en if-sats om villkoret utvärderas till False?",
                    "options": [
                        "Koden i else-satsen körs",
                        "Koden i if-satsen körs",
                        "Programmet stannar",
                        "Programmet kraschar"
                    ],
                    "correct": 0
                },
                {
                    "question": "Vilken operator används för att jämföra två värden för likhet i Python?",
                    "options": [
                        "==",
                        "=",
                        "!==",
                        "><"
                    ],
                    "correct": 0
                },
                {
                    "question": "Hur kan du utvärdera om ett uttryck är True eller False i Python?",
                    "options": [
                        "Genom att använda funktionen bool()",
                        "Genom att använda funktionen type()",
                        "Genom att använda funktionen str()",
                        "Genom att använda en if-sats"
                    ],
                    "correct": 0
                }              // Add more questions following the same format
            ]
        };
		const AF1766_8 = {
            name: "AF1766 kap 8 Operators",
            questions: [
  {
    "question": "Vad gör operatorn + i Python?",
    "options": [
      "Adderar två värden", 
      "Subtraherar två värden", 
      "Multiplicerar två värden", 
      "Jämför två värden"
    ],
    "correct": 0
  },
  {
    "question": "Vilken operator används för att exponentiera ett tal?",
    "options": [
      "^", 
      "**", 
      "//", 
      "%%"
    ],
    "correct": 1
  },
  {
    "question": "Vad returnerar operatorn //?",
    "options": [
      "Den exakta divisionen", 
      "Heltalsdelen av divisionen", 
      "Resten av divisionen", 
      "Kvadraten av talet"
    ],
    "correct": 1
  },
  {
    "question": "Vilken av följande är en jämförelseoperator?",
    "options": [
      "=", 
      "!=", 
      "+=", 
      "*"
    ],
    "correct": 1
  },
  {
    "question": "Vad är felet i följande kod?\n\nresult = 10 = 5",
    "options": [
      "Ska använda '==' istället för '=' för jämförelse", 
      "Felaktig användning av variabelnamn", 
      "Det saknas en parentes", 
      "Inget fel"
    ],
    "correct": 0
  },
  {
    "question": "Vilken av följande är en logisk operator?",
    "options": [
      "and", 
      "=", 
      "%", 
      "**"
    ],
    "correct": 0
  },
  {
    "question": "Vad gör identitetsoperatorn 'is'?",
    "options": [
      "Jämför om två variabler har samma värde", 
      "Jämför om två variabler refererar till samma objekt", 
      "Kollar om ett värde finns i en lista", 
      "Används för att tilldela ett värde"
    ],
    "correct": 1
  },
  {
    "question": "Vad är felet i följande kod?\n\nif 5 is 5:\n  print('Sant')",
    "options": [
      "Ska använda '==' istället för 'is' för numeriska jämförelser", 
      "Felaktig syntax", 
      "Indragningen är felaktig", 
      "Inget fel"
    ],
    "correct": 0
  },
  {
    "question": "Vilken operator används för att kolla om ett värde finns i en lista?",
    "options": [
      "is", 
      "in", 
      "==", 
      "&&"
    ],
    "correct": 1
  },
  {
    "question": "Vilken prioritet har parenteser i matematiska uttryck?",
    "options": [
      "Högst", 
      "Lägst", 
      "Samma som multiplikation", 
      "Samma som addition"
    ],
    "correct": 0
  }			
            ]
        };
		const AF1766_9 = {
            name: "AF1766 kap 9 List",
            questions: [
				 {
					"question": "Hur skapar man en lista i Python?",
					"options": [
					  "list = {}",
					  "list = []",
					  "list = ()",
					  "list = <>"
					],
					"correct": 1
				  },
				  {
					"question": "Hur kan du få tag på det tredje elementet i listan mylist = ['apple', 'banana', 'cherry', 'orange']?",
					"options": [
					  "mylist(2)",
					  "mylist[3]",
					  "mylist[2]",
					  "mylist[-3]"
					],
					"correct": 2
				  },
				  {
					"question": "Vilken metod används för att lägga till ett element i slutet av en lista?",
					"options": [
					  "insert()",
					  "extend()",
					  "add()",
					  "append()"
					],
					"correct": 3
				  },
				  {
					"question": "Vilket av följande påståenden om listor är sant?",
					"options": [
					  "Listor i Python är oföränderliga",
					  "Listor kan innehålla olika datatyper",
					  "Listor kan inte innehålla dubbletter",
					  "Listor har ingen ordning"
					],
					"correct": 1
				  },
				  {
					"question": "Vilken metod används för att ta bort ett specifikt element från en lista?",
					"options": [
					  "delete()",
					  "pop()",
					  "remove()",
					  "discard()"
					],
					"correct": 2
				  },
				  {
					"question": "Hur får du ut längden på en lista i Python?",
					"options": [
					  "size(list)",
					  "list.length()",
					  "count(list)",
					  "len(list)"
					],
					"correct": 3
				  },
				  {
					"question": "Vilken av följande metoder används för att rensa hela listan?",
					"options": [
					  "del list",
					  "list.clear()",
					  "list.remove()",
					  "list.pop()"
					],
					"correct": 1
				  },
				  {
					"question": "Hur skapar man en tom lista?",
					"options": [
					  "list = []",
					  "list = ()",
					  "list = {}",
					  "list = None"
					],
					"correct": 0
				  },
				  {
					"question": "Hur kontrollerar man om 'apple' finns i listan fruits = ['apple', 'banana', 'cherry']?",
					"options": [
					  "'apple' in fruits",
					  "fruits.has('apple')",
					  "fruits.exist('apple')",
					  "fruits.check('apple')"
					],
					"correct": 0
				  },
				  {
					"question": "Hur får man det sista elementet i en lista?",
					"options": [
					  "list[len(list)]",
					  "list[-1]",
					  "list[last]",
					  "list.end()"
					],
					"correct": 1
				  },
				  {
					"question": "Vilken funktion används för att sortera en lista i stigande ordning?",
					"options": [
					  "sort()",
					  "order()",
					  "arrange()",
					  "sorted()"
					],
					"correct": 0
				  },
				  {
					"question": "Hur kan man kopiera en lista?",
					"options": [
					  "copyList = list.copy()",
					  "copyList = list",
					  "copyList = clone(list)",
					  "copyList = list.duplicate()"
					],
					"correct": 0
				  },
				  {
					"question": "Hur tar man bort alla element från en lista?",
					"options": [
					  "list.clear()",
					  "list.removeAll()",
					  "list.deleteAll()",
					  "list.purge()"
					],
					"correct": 0
				  },
				  {
					"question": "Vilket index har det första elementet i en lista?",
					"options": [
					  "0",
					  "1",
					  "-1",
					  "2"
					],
					"correct": 0
				  },        
            ]
        };
        const AF1766_10 = {
            name: "AF1766 kap 10 Tuple",
            questions: [
  {
    "question": "Vad är en tuple i Python?",
    "options": [
      "En samling av unika och oordnade element",
      "En samling av nyckel-värdepar",
      "En samling som är ordnad och oföränderlig",
      "En lista med sorterade element"
    ],
    "correct": 2
  },
  {
    "question": "Hur skapar man en tuple i Python?",
    "options": [
      "tuple = ['a', 'b', 'c']",
      "tuple = ('a', 'b', 'c')",
      "tuple = {'a', 'b', 'c'}",
      "tuple = ('a': 1, 'b': 2, 'c': 3)"
    ],
    "correct": 1
  },
  {
    "question": "Kan en tuple innehålla dubbletter av värden?",
    "options": [
      "Ja, tuples tillåter dubbletter",
      "Nej, tuples kan bara ha unika värden",
      "Endast om de är numeriska",
      "Ja, men Python tar automatiskt bort dubbletterna"
    ],
    "correct": 0
  },
  {
    "question": "Hur får man tillgång till ett specifikt element i en tuple?",
    "options": [
      "tuple.get(index)",
      "tuple[index]",
      "tuple.index(value)",
      "tuple.find(index)"
    ],
    "correct": 1
  },
  {
    "question": "Vad händer om man försöker ändra ett element i en tuple?",
    "options": [
      "Värdet ändras normalt",
      "Python skapar en kopia av tuplen med det nya värdet",
      "Man får ett fel eftersom tuples är oföränderliga",
      "Värdet ändras men dubbletter tas bort automatiskt"
    ],
    "correct": 2
  },
  {
    "question": "Hur skapar man en tuple med endast ett element?",
    "options": [
      "tuple = ('apple')",
      "tuple = ('apple',)",
      "tuple = ['apple']",
      "tuple = {'apple'}"
    ],
    "correct": 1
  },
  {
    "question": "Hur kan man ändra en tuple indirekt?",
    "options": [
      "Genom att använda tuple.update()",
      "Genom att konvertera tuplen till en lista, ändra den och konvertera tillbaka",
      "Genom att använda append() på tuplen",
      "Det går inte att ändra en tuple på något sätt"
    ],
    "correct": 1
  },
  {
    "question": "Hur kan man koppla ihop två tuples?",
    "options": [
      "tuple1.merge(tuple2)",
      "tuple1 + tuple2",
      "tuple1.append(tuple2)",
      "tuple1.extend(tuple2)"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör operatorn * när den används med en tuple?",
    "options": [
      "Multiplicerar varje element i tuplen",
      "Kopierar tuplen ett angivet antal gånger",
      "Lägger till ett nytt element i tuplen",
      "Tar bort dubbletter från tuplen"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör tuple() i Python?",
    "options": [
      "Skapar en ny lista",
      "Returnerar en ny tuple från en iterable",
      "Rensar en befintlig tuple",
      "Sorterar elementen i en tuple"
    ],
    "correct": 1
  }    
            ]
        };

        const AF1766_11 = {
            name: "AF1766 kap 11 sets",
            questions: [
  {
    "question": "Vad är ett set i Python?",
    "options": [
      "En samling av nyckel-värdepar",
      "En lista med sorterade element",
      "En samling av unika och oordnade element",
      "En samling som alltid innehåller numeriska värden"
    ],
    "correct": 2
  },
  {
    "question": "Hur skapar man ett set i Python?",
    "options": [
      "set = ['a', 'b', 'c']",
      "set = ('a', 'b', 'c')",
      "set = {'a', 'b', 'c'}",
      "set = {'a': 1, 'b': 2, 'c': 3}"
    ],
    "correct": 2
  },
  {
    "question": "Kan ett set innehålla dubbletter av värden?",
    "options": [
      "Ja, det är möjligt",
      "Nej, alla värden i ett set måste vara unika",
      "Endast om de är numeriska",
      "Ja, men de sorteras bort automatiskt"
    ],
    "correct": 1
  },
  {
    "question": "Hur lägger man till ett nytt element i ett set?",
    "options": [
      "set.append('element')",
      "set.add('element')",
      "set.insert('element')",
      "set.push('element')"
    ],
    "correct": 1
  },
  {
    "question": "Vilken metod används för att ta bort ett specifikt element från ett set utan att orsaka ett fel om elementet saknas?",
    "options": [
      "set.remove('element')",
      "set.delete('element')",
      "set.pop()",
      "set.discard('element')"
    ],
    "correct": 3
  },
  {
    "question": "Hur kan du kombinera två sets och få en ny set med alla element?",
    "options": [
      "set1 + set2",
      "set1.union(set2)",
      "set1.merge(set2)",
      "set1.add(set2)"
    ],
    "correct": 1
  },
  {
    "question": "Hur tar du reda på om ett element finns i ett set?",
    "options": [
      "set.has('element')",
      "'element' in set",
      "set.contains('element')",
      "set.search('element')"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör metoden intersection() för två sets?",
    "options": [
      "Returnerar en ny set med endast elementen som finns i båda sets",
      "Kombinerar alla element från båda sets",
      "Tar bort gemensamma element från båda sets",
      "Returnerar skillnaden mellan två sets"
    ],
    "correct": 0
  },
  {
    "question": "Vad händer om du använder pop() på ett set?",
    "options": [
      "Det tar bort ett slumpmässigt element",
      "Det rensar hela setet",
      "Det tar bort det första elementet",
      "Det ger ett felmeddelande om setet är tomt"
    ],
    "correct": 0
  },
  {
    "question": "Vad gör metoden symmetric_difference()?",
    "options": [
      "Returnerar endast elementen som finns i båda sets",
      "Returnerar alla element UTOM de som finns i båda sets",
      "Tar bort alla element från setet",
      "Sorterar setet i alfabetisk ordning"
    ],
    "correct": 1
  }
           
            ]
        };

        const AF1766_12 = {
            name: "AF1766 kap 12 dict",
            questions: [
  {
    "question": "Vad är en dictionary i Python?",
    "options": [
      "En samling av nyckel-värdepar",
      "En lista med unika värden",
      "En sorterad lista med index",
      "En datatyp för att lagra enbart siffror"
    ],
    "correct": 0
  },
  {
    "question": "Hur skapar man en dictionary?",
    "options": [
      "dict = [1, 2, 3]",
      "dict = { 'key': 'value' }",
      "dict = (1, 2, 3)",
      "dict = 'key:value'"
    ],
    "correct": 1
  },
  {
    "question": "Hur hämtar man värdet av en nyckel i en dictionary?",
    "options": [
      "dict['key']",
      "dict.get('key')",
      "dict.key",
      "Både A och B"
    ],
    "correct": 3
  },
  {
    "question": "Kan en dictionary ha dubbletter av nycklar?",
    "options": [
      "Ja, men de måste ha olika datatyper",
      "Nej, nycklar måste vara unika",
      "Ja, men dubbletterna ignoreras",
      "Ja, men endast om de är numeriska"
    ],
    "correct": 1
  },
  {
    "question": "Hur lägger man till en ny nyckel och ett värde i en dictionary?",
    "options": [
      "dict.add('key', 'value')",
      "dict.append('key', 'value')",
      "dict['key'] = 'value'",
      "dict.insert('key', 'value')"
    ],
    "correct": 2
  },
  {
    "question": "Hur tar man bort ett objekt från en dictionary?",
    "options": [
      "dict.pop('key')",
      "del dict['key']",
      "dict.remove('key')",
      "Både A och B"
    ],
    "correct": 3
  },
  {
    "question": "Vilken metod används för att få en lista över alla nycklar i en dictionary?",
    "options": [
      "dict.keys()",
      "dict.values()",
      "dict.items()",
      "dict.get_keys()"
    ],
    "correct": 0
  },
  {
    "question": "Hur kan man kontrollera om en nyckel finns i en dictionary?",
    "options": [
      "'key' in dict",
      "'key' exists in dict",
      "dict.has_key('key')",
      "dict.contains('key')"
    ],
    "correct": 0
  },
  {
    "question": "Vilken metod används för att kopiera en dictionary?",
    "options": [
      "dict.copy()",
      "dict.clone()",
      "dict.duplicate()",
      "dict.deepcopy()"
    ],
    "correct": 0
  },
  {
    "question": "Vilken metod används för att få en lista över alla nyckel-värdepar i en dictionary?",
    "options": [
      "dict.keys()",
      "dict.values()",
      "dict.items()",
      "dict.pairs()"
    ],
    "correct": 2
  }     
            ]
        };

        const AF1766_13 = {
            name: "AF1766 kap 13 IF else",
            questions: [
  {
    "question": "Vilket nyckelord används för att skriva en if-sats i Python?",
    "options": ["if", "when", "case", "switch"],
    "correct": 0
  },
  {
    "question": "Vad returnerar uttrycket 'a == b' om a är 5 och b är 5?",
    "options": ["True", "False", "Felmeddelande", "Ingenting"],
    "correct": 0
  },
  {
    "question": "Vad gör elif i en if-sats?",
    "options": [
      "Det avslutar if-satsen",
      "Det testar ett nytt villkor om det första villkoret är False",
      "Det upprepar if-satsen",
      "Det används för att definiera ett standardvärde"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör else i en if-else-sats?",
    "options": [
      "Det körs endast om det första villkoret är True",
      "Det körs endast om elif är sant",
      "Det fångar alla fall som inte uppfyller de tidigare villkoren",
      "Else måste alltid följas av en ny if-sats"
    ],
    "correct": 2
  },
  {
    "question": "Vad skrivs ut om a=10 och b=5 i följande kod? \nif a > b:\n   print('A')\nelse:\n   print('B')",
    "options": ["A", "B", "Felmeddelande", "Ingenting"],
    "correct": 0
  },
  {
    "question": "Vilken är den korta versionen av en if-else-sats?",
    "options": [
      "if (a > b) { print('A') } else { print('B') }",
      "print('A') if a > b else print('B')",
      "short_if(a > b, 'A', 'B')",
      "Det finns ingen kort version"
    ],
    "correct": 1
  },
  {
    "question": "Vilket logiskt operator används för att kombinera två villkor som båda måste vara sanna?",
    "options": ["or", "not", "and", "else"],
    "correct": 2
  },
  {
    "question": "Vilket logiskt operator används för att kombinera två villkor där minst ett måste vara sant?",
    "options": ["or", "not", "and", "elif"],
    "correct": 0
  }         
            ]
        };

        const AF1766_14 = {
            name: "AF1766 kap 14 while loops",
            questions: [
 {
    "question": "Vad gör en while-loop i Python?",
    "options": [
      "Itererar över en lista",
      "Utför en uppsättning satser så länge ett villkor är sant",
      "Skapar en ny funktion",
      "Avslutar programmet om ett villkor är falskt"
    ],
    "correct": 1
  },
  {
    "question": "Vad måste man tänka på när man använder en while-loop?",
    "options": [
      "Att loopen alltid har en break-sats",
      "Att variabeln som används i villkoret ändras så att loopen inte körs för alltid",
      "Att endast siffror kan användas som villkor",
      "Att while-loopen alltid måste ha en else-sats"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör break-satsen i en while-loop?",
    "options": [
      "Hoppar över den nuvarande iterationen och fortsätter med nästa",
      "Avslutar loopen direkt, oavsett villkor",
      "Sätter om variabeln i loopen till sitt startvärde",
      "Stoppar loopen och startar den igen från början"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör continue-satsen i en while-loop?",
    "options": [
      "Avslutar loopen helt",
      "Startar om loopen från början",
      "Hoppar över den aktuella iterationen och fortsätter med nästa",
      "Sätter while-villkoret till False"
    ],
    "correct": 2
  },
  {
    "question": "Vad händer om while-loopen aldrig får sitt villkor att bli False?",
    "options": [
      "Loopen körs oändligt",
      "Python ger ett felmeddelande direkt",
      "Programmet avslutas automatiskt efter tre iterationer",
      "Loopen hoppar automatiskt till en else-sats"
    ],
    "correct": 0
  },
  {
    "question": "Vad gör else-satsen i en while-loop?",
    "options": [
      "Den körs endast om loopen avbryts med break",
      "Den körs endast om loopen aldrig startades",
      "Den körs när while-villkoret blir False",
      "Else kan inte användas i en while-loop"
    ],
    "correct": 2
  },
  {
    "question": "Hur kan man skapa en oändlig loop i Python?",
    "options": [
      "while True:",
      "while False:",
      "while 1 < 0:",
      "while x == y:"
    ],
    "correct": 0
  },
  {
    "question": "Hur kan man se till att en while-loop avslutas vid rätt tillfälle?",
    "options": [
      "Genom att använda en return-sats",
      "Genom att se till att villkoret blir False vid något tillfälle",
      "Genom att använda en try-except-sats",
      "Genom att sätta en timer på loopen"
    ],
    "correct": 1
  },
  {
    "question": "Vilket värde måste villkoret i en while-loop ha för att loopen ska starta?",
    "options": [
      "False",
      "0",
      "True",
      "None"
    ],
    "correct": 2
  },
  {
    "question": "Hur ser en korrekt while-loop ut?",
    "options": [
      "while x < 5: print(x) x += 1",
      "while x < 5 { print(x); x += 1 }",
      "while (x < 5): { print(x); x += 1; }",
      "while x < 5:\n    print(x)\n    x += 1"
    ],
    "correct": 3
  } 
            ]
        };

        const AF1766_15 = {
            name: "AF1766 kap 15 for loops",
            questions: [
 {
    "question": "Vad används en for-loop till i Python?",
    "options": [
      "För att skapa funktioner",
      "För att iterera över en sekvens av objekt",
      "För att hantera fel",
      "För att deklarera variabler"
    ],
    "correct": 1
  },
  {
    "question": "Vilka typer av sekvenser kan en for-loop iterera över?",
    "options": [
      "Endast listor",
      "Listor och tuples",
      "Listor, tuples, sets, dictionaries och strängar",
      "Endast dictionaries och sets"
    ],
    "correct": 2
  },
  {
    "question": "Vad gör break-satsen i en for-loop?",
    "options": [
      "Hoppar över den aktuella iterationen och fortsätter till nästa",
      "Avbryter loopen helt",
      "Startar om loopen från början",
      "Hoppar till nästa kodblock utanför loopen"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör continue-satsen i en for-loop?",
    "options": [
      "Avslutar loopen helt",
      "Startar om loopen från början",
      "Hoppar över den aktuella iterationen och fortsätter till nästa",
      "Avslutar programmet"
    ],
    "correct": 2
  },
  {
    "question": "Vilket tal är det sista som skrivs ut med for x in range(2, 10, 2)?",
    "options": ["8", "10", "9", "2"],
    "correct": 0
  },
  {
    "question": "Vad händer om else används i en for-loop?",
    "options": [
      "Det körs alltid, oavsett om loopen avslutas normalt eller med break",
      "Det körs endast om loopen inte avbryts med break",
      "Det körs endast om loopen körs minst en gång",
      "Else kan inte användas i en for-loop"
    ],
    "correct": 1
  },
  {
    "question": "Vad returnerar range(5)?",
    "options": [
      "[0, 1, 2, 3, 4, 5]",
      "[1, 2, 3, 4, 5]",
      "[0, 1, 2, 3, 4]",
      "[0, 1, 2, 3]"
    ],
    "correct": 2
  },
  {
    "question": "Vad gör en kapslad loop?",
    "options": [
      "Den kör en loop endast om en annan loop har avslutats",
      "Den skapar en ny loop varje gång en viss villkor uppfylls",
      "Den innehåller en loop inuti en annan loop",
      "Den gör att loopen aldrig avslutas"
    ],
    "correct": 2
  },
  {
    "question": "Vad händer om pass används i en for-loop?",
    "options": [
      "Pass ignorerar felet och fortsätter exekveringen",
      "Pass gör att loopen hoppar över ett steg",
      "Pass gör ingenting, men används som platshållare för framtida kod",
      "Pass avslutar loopen"
    ],
    "correct": 2
  },
  {
    "question": "Vad händer om en for-loop körs över en sträng?",
    "options": [
      "Den delar upp strängen i ord",
      "Den itererar genom varje bokstav i strängen",
      "Den skapar en ny lista av tecken",
      "Den returnerar strängens längd"
    ],
    "correct": 1
  }
            ]
        };

        const AF1766_16 = {
            name: "AF1766 kap 16 functions",
            questions: [
  {
    "question": "Vad är en funktion i Python?",
    "options": [
      "En variabel som lagrar data",
      "Ett kodblock som körs endast när det anropas",
      "En inbyggd klass i Python",
      "Ett kommando för att skapa loopar"
    ],
    "correct": 1
  },
  {
    "question": "Hur definierar man en funktion i Python?",
    "options": [
      "function myFunction():",
      "def myFunction():",
      "define myFunction():",
      "fun myFunction():"
    ],
    "correct": 1
  },
  {
    "question": "Hur anropar man en funktion som heter 'my_function'?",
    "options": [
      "call my_function()",
      "execute my_function()",
      "my_function()",
      "run my_function()"
    ],
    "correct": 2
  },
  {
    "question": "Vad är skillnaden mellan en parameter och ett argument?",
    "options": [
      "Det finns ingen skillnad",
      "En parameter är en variabel i funktionsdefinitionen, ett argument är värdet som skickas till funktionen",
      "Ett argument är en variabel i funktionsdefinitionen, en parameter är värdet som skickas till funktionen",
      "En parameter kan endast vara en sträng, medan ett argument kan vara vilket värde som helst"
    ],
    "correct": 1
  },
  {
    "question": "Vad händer om en funktion förväntar sig två argument men bara får ett?",
    "options": [
      "Funktionen körs ändå och antar att det andra argumentet är None",
      "Ett fel uppstår",
      "Det andra argumentet blir automatiskt en tom sträng",
      "Python skapar ett standardvärde för det andra argumentet"
    ],
    "correct": 1
  },
  {
    "question": "Hur kan du specificera standardvärden för funktionsparametrar?",
    "options": [
      "def my_function(param == 'default'):",
      "def my_function(param: 'default'):",
      "def my_function(param = 'default'):",
      "default my_function(param):"
    ],
    "correct": 2
  },
  {
    "question": "Hur kan du skicka argument till en funktion utan att behöva följa ordningen i funktionsdefinitionen?",
    "options": [
      "Genom att använda nyckelordsargument",
      "Det är inte möjligt",
      "Genom att använda *args",
      "Genom att sätta argumenten inom hakparenteser"
    ],
    "correct": 0
  },
  {
    "question": "Vilken funktion används för att returnera ett värde från en funktion?",
    "options": [
      "output",
      "return",
      "yield",
      "send"
    ],
    "correct": 1
  },
  {
    "question": "Vad gör pass-satsen i en funktion?",
    "options": [
      "Den returnerar ett standardvärde",
      "Den hoppar över funktionsanropet",
      "Den används som en platshållare i en funktionsdefinition utan innehåll",
      "Den skriver ut en tom sträng"
    ],
    "correct": 2
  },
  {
    "question": "Vad händer om du skickar en lista som argument till en funktion?",
    "options": [
      "Listan konverteras automatiskt till en tuple",
      "Listan förlorar sina element",
      "Funktionen tar emot listan och kan manipulera dess element",
      "Python genererar ett fel eftersom listor inte kan skickas som argument"
    ],
    "correct": 2
  }     
            ]
        };

        const AF1766_17 = {
            name: "AF1766 kap 17 modules",
            questions: [
  {
    "question": "Vad är en modul i Python?",
    "options": [
      "En fil som innehåller en uppsättning funktioner och variabler",
      "En inbyggd funktion i Python",
      "En speciell typ av lista",
      "En klass som används för att hantera data"
    ],
    "correct": 0
  },
  {
    "question": "Hur skapar man en modul i Python?",
    "options": [
      "Genom att skapa en fil med ändelsen .mod",
      "Genom att använda nyckelordet module",
      "Genom att spara en Python-fil med ändelsen .py",
      "Moduler skapas automatiskt i Python"
    ],
    "correct": 2
  },
  {
    "question": "Hur importerar man en modul som heter 'mymodule'?",
    "options": [
      "import module mymodule",
      "include mymodule",
      "import mymodule",
      "load mymodule"
    ],
    "correct": 2
  },
  {
    "question": "Hur anropar man en funktion från en importerad modul?",
    "options": [
      "mymodule.funktion()",
      "funktion.mymodule()",
      "mymodule->funktion()",
      "call mymodule.funktion()"
    ],
    "correct": 0
  },
  {
    "question": "Vilket nyckelord används för att ge en modul ett alias?",
    "options": ["rename", "as", "alias", "module"],
    "correct": 1
  },
  {
    "question": "Hur importerar man en specifik variabel från en modul?",
    "options": [
      "import person1 from mymodule",
      "from mymodule import person1",
      "import mymodule.person1",
      "load person1 from mymodule"
    ],
    "correct": 1
  },
  {
    "question": "Vad returnerar funktionen dir() när den används på en modul?",
    "options": [
      "En lista med alla tillgängliga funktioner och variabler i modulen",
      "Ett fel om modulen inte existerar",
      "Innehållet i modulen som en sträng",
      "En lista med alla installerade moduler i Python"
    ],
    "correct": 0
  },
  {
    "question": "Vilken inbyggd modul kan användas för att hämta information om operativsystemet?",
    "options": ["os", "sys", "platform", "system"],
    "correct": 2
  },
  {
    "question": "Vad händer om du importerar en modul med 'from mymodule import person1'?",
    "options": [
      "Du kan använda variabeln direkt utan att ange modulnamnet",
      "Du måste fortfarande skriva 'mymodule.person1' för att använda variabeln",
      "Modulen laddas men kan inte användas",
      "Python skapar automatiskt en kopia av modulen"
    ],
    "correct": 0
  },
  {
    "question": "Vilken filändelse måste en Python-modul ha?",
    "options": [".py", ".mod", ".pyc", ".pym"],
    "correct": 0
  }         
            ]
        };

        const AF1766_18 = {
            name: "AF1766 kap 18 dates",
            questions: [
     {
    "question": "Vilken modul behöver du importera för att arbeta med datum i Python?",
    "options": [
      "time",
      "date",
      "datetime",
      "calendar"
    ],
    "correct": 2
  },
  {
    "question": "Hur hämtar du det aktuella datumet och tiden i Python?",
    "options": [
      "datetime.date.today()",
      "datetime.datetime.now()",
      "datetime.time.current()",
      "datetime.get_date()"
    ],
    "correct": 1
  },
  {
    "question": "Vilka parametrar krävs för att skapa ett datumobjekt med datetime()?",
    "options": [
      "År, månad, dag",
      "År, månad, dag, timme, minut",
      "Endast år och månad",
      "År, månad, dag, tidszon"
    ],
    "correct": 0
  },
  {
    "question": "Hur kan du extrahera året från ett datumobjekt i Python?",
    "options": [
      "x.get_year()",
      "x.year",
      "x.date.year",
      "x.extract('year')"
    ],
    "correct": 1
  },
  {
    "question": "Vilken metod används för att formatera datum till en sträng i ett visst format?",
    "options": [
      "format_date()",
      "strftime()",
      "stringify()",
      "convert_date()"
    ],
    "correct": 1
  },
  {
    "question": "Vad returnerar följande kod? \nimport datetime\nx = datetime.datetime(2022, 12, 25)\nprint(x.strftime('%A'))",
    "options": [
      "December",
      "2022",
      "Sunday",
      "25"
    ],
    "correct": 2
  },
  {
    "question": "Vad gör metoden strftime('%B')?",
    "options": [
      "Returnerar veckodagens namn",
      "Returnerar månadens namn",
      "Returnerar året som en sträng",
      "Returnerar datumet i standardformat"
    ],
    "correct": 1
  },
  {
    "question": "Vilken av följande är en giltig parameter för strftime()?",
    "options": [
      "%D för veckodag",
      "%M för månad",
      "%H för timme",
      "%Y för sekund"
    ],
    "correct": 2
  },
  {
    "question": "Vad händer om du inte anger en tidszon vid skapandet av ett datetime-objekt?",
    "options": [
      "Python ger ett fel",
      "Standardvärdet None används",
      "Tidszonen sätts till UTC automatiskt",
      "Python använder lokalt systemdatum"
    ],
    "correct": 1
  },
  {
    "question": "Hur skapar du ett datumobjekt för den 1 januari 2025?",
    "options": [
      "x = datetime.datetime(1, 1, 2025)",
      "x = datetime.date(2025, 1, 1)",
      "x = datetime.datetime(2025, 1, 1)",
      "x = datetime(2025, 1, 1)"
    ],
    "correct": 2
  }        
            ]
        };

        const AF1766_19 = {
            name: "AF1766 kap 19 arrays",
            questions: [
  {
    "question": "Vilken datastruktur används i Python istället för en inbyggd array?",
    "options": ["Tuple", "Set", "List", "Dictionary"],
    "correct": 2
  },
  {
    "question": "Vilket bibliotek måste importeras för att arbeta med riktiga arrayer i Python?",
    "options": ["Pandas", "NumPy", "Matplotlib", "Scipy"],
    "correct": 1
  },
  {
    "question": "Hur får man tillgång till det första elementet i en lista?",
    "options": ["list[1]", "list[0]", "list.first()", "list.get(0)"],
    "correct": 1
  },
  {
    "question": "Vilken metod används för att lägga till ett element i en lista?",
    "options": ["insert()", "add()", "append()", "extend()"],
    "correct": 2
  },
  {
    "question": "Vilken metod tar bort det sista elementet från en lista?",
    "options": ["delete()", "remove()", "pop()", "discard()"],
    "correct": 2
  },
  {
    "question": "Hur kan du loopa genom alla element i en lista?",
    "options": [
      "for x in list:",
      "while x in list:",
      "foreach x in list:",
      "loop x in list:"
    ],
    "correct": 0
  },
  {
    "question": "Hur får man fram längden på en lista?",
    "options": ["length(list)", "size(list)", "len(list)", "count(list)"],
    "correct": 2
  },
  {
    "question": "Vilken metod kan användas för att ta bort ett specifikt värde från en lista?",
    "options": ["remove()", "delete()", "discard()", "pop()"],
    "correct": 0
  },
  {
    "question": "Vad returnerar len(my_list) om my_list = ['a', 'b', 'c', 'd']?",
    "options": ["3", "4", "5", "Ett fel uppstår"],
    "correct": 1
  },
  {
    "question": "Vilken metod används för att rensa en lista helt?",
    "options": ["delete()", "clear()", "removeAll()", "empty()"],
    "correct": 1
  }       
            ]
        };

        const AF1766_20 = {
            name: "AF1766 kap 20 Classes",
            questions: [
  {
    "question": "Vilket nyckelord används för att definiera en klass i Python?",
    "options": ["class", "def", "object", "new"],
    "correct": 0
  },
  {
    "question": "Vad heter den speciella metoden som anropas automatiskt när ett objekt skapas?",
    "options": ["__start__()", "__create__()", "__init__()", "__new__()"],
    "correct": 2
  },
  {
    "question": "Vilken metod används för att ge en strängrepresentation av ett objekt?",
    "options": ["__str__()", "__repr__()", "__print__()", "__string__()"],
    "correct": 0
  },
  {
    "question": "Vad används 'self'-parametern till i en metod?",
    "options": [
      "Den anger en global variabel",
      "Den refererar till den aktuella instansen av klassen",
      "Den skapar en ny klass",
      "Den raderar ett objekt"
    ],
    "correct": 1
  },
  {
    "question": "Hur ändrar man värdet på en egenskap i ett objekt?",
    "options": [
      "Man kan inte ändra egenskaper i Python",
      "Genom att använda metoden change_property()",
      "Genom att tilldela ett nytt värde direkt till egenskapen",
      "Genom att använda update_property()"
    ],
    "correct": 2
  }      
            ]
        };

        // Initialize with both quizzes

        // DOM Elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const editorScreen = document.getElementById('editor-screen');
        const quizSelectionScreen = document.getElementById('quiz-selection-screen');
        
        const questionText = document.getElementById('question-text');
        const currentQuizTitle = document.getElementById('current-quiz-title');
        const optionsContainer = document.getElementById('options-container');
        const feedbackElement = document.getElementById('feedback');
        const progressBar = document.getElementById('progress-bar');
        const nextButton = document.getElementById('next-btn');
        
        const percentageElement = document.getElementById('percentage');
        const scoreElement = document.getElementById('score');
        const totalElement = document.getElementById('total');
        
        const selectQuizButton = document.getElementById('select-quiz-btn');
        const createQuizButton = document.getElementById('create-quiz-btn');
        const saveQuizButton = document.getElementById('save-quiz-btn');
        const restartButton = document.getElementById('restart-btn');
        const homeButton = document.getElementById('home-btn');
        const backFromEditorButton = document.getElementById('back-from-editor-btn');
        const backFromSelectionButton = document.getElementById('back-from-selection-btn');
        const selectAnotherButton = document.getElementById('select-another-btn');
        
        const quizEditor = document.getElementById('quiz-editor');
        const quizNameInput = document.getElementById('quiz-name-input');
        const editorError = document.getElementById('editor-error');
        const quizListContainer = document.getElementById('quiz-list');
        
        const randomizeToggle = document.getElementById('randomize-toggle');
        const editorRandomizeToggle = document.getElementById('editor-randomize-toggle');
        const randomizeQuestionsToggle = document.getElementById('randomize-questions-toggle');
        const editorRandomizeQuestionsToggle = document.getElementById('editor-randomize-questions-toggle');
        
        // Load quizzes from localStorage if available
        function loadQuizzes() {
            const savedQuizzes = localStorage.getItem('af1729quizzes');
            if (savedQuizzes) {
                try {
                    quizzes = JSON.parse(savedQuizzes);
                    
                    // Check if our new quiz already exists in saved quizzes
                    const hasAF1766_1 = quizzes.some(quiz => quiz.name === AF1766_1.name);

                    const hasAF1766_2 = quizzes.some(quiz => quiz.name === AF1766_2.name);

                    const hasAF1766_3 = quizzes.some(quiz => quiz.name === AF1766_3.name);
                    const hasAF1766_4 = quizzes.some(quiz => quiz.name === AF1766_4.name);
                    const hasAF1766_5 = quizzes.some(quiz => quiz.name === AF1766_5.name);
                    const hasAF1766_6 = quizzes.some(quiz => quiz.name === AF1766_6.name);
                    const hasAF1766_7 = quizzes.some(quiz => quiz.name === AF1766_7.name);
                    
					const hasAF1766_8 = quizzes.some(quiz => quiz.name === AF1766_8.name);
					const hasAF1766_9 = quizzes.some(quiz => quiz.name === AF1766_9.name);
					const hasAF1766_10 = quizzes.some(quiz => quiz.name === AF1766_10.name);
					const hasAF1766_11= quizzes.some(quiz => quiz.name === AF1766_11.name);
					const hasAF1766_12= quizzes.some(quiz => quiz.name === AF1766_12.name);
					const hasAF1766_13= quizzes.some(quiz => quiz.name === AF1766_13.name);
					const hasAF1766_14= quizzes.some(quiz => quiz.name === AF1766_14.name);
					const hasAF1766_15= quizzes.some(quiz => quiz.name === AF1766_15.name);
					const hasAF1766_16= quizzes.some(quiz => quiz.name === AF1766_16.name);
					const hasAF1766_17= quizzes.some(quiz => quiz.name === AF1766_17.name);
					const hasAF1766_18= quizzes.some(quiz => quiz.name === AF1766_18.name);
					const hasAF1766_19= quizzes.some(quiz => quiz.name === AF1766_19.name);
					const hasAF1766_20 = quizzes.some(quiz => quiz.name === AF1766_20.name);
                   
                    // If not, add it
                    if (!hasAF1766_1) {
                        quizzes.push(AF1766_1);        
                    }
                    if (!hasAF1766_2) {
                        quizzes.push(AF1766_2);        
                    }
                    if (!hasAF1766_3) {
                        quizzes.push(AF1766_3);        
                    }
                    if (!hasAF1766_4) {
                        quizzes.push(AF1766_4);        
                    }
                     if (!hasAF1766_5) {
                        quizzes.push(AF1766_5);        
                    }
                     if (!hasAF1766_6) {
                        quizzes.push(AF1766_6);        
                    }
                     if (!hasAF1766_7) {
                        quizzes.push(AF1766_7);        
                    }
                      if (!hasAF1766_8) {
                        quizzes.push(AF1766_8);        
                    }
                      if (!hasAF1766_9) {
                        quizzes.push(AF1766_9);        
                    }
                      if (!hasAF1766_10) {
                        quizzes.push(AF1766_10);        
                    }
                      if (!hasAF1766_11) {
                        quizzes.push(AF1766_11);        
                    }
                      if (!hasAF1766_12) {
                        quizzes.push(AF1766_12);        
                    }
                      if (!hasAF1766_13) {
                        quizzes.push(AF1766_13);        
                    }
                      if (!hasAF1766_14) {
                        quizzes.push(AF1766_14);        
                    }
                      if (!hasAF1766_15) {
                        quizzes.push(AF1766_15);        
                    }
                      if (!hasAF1766_16) {
                        quizzes.push(AF1766_16);        
                    }
                      if (!hasAF1766_17) {
                        quizzes.push(AF1766_17);        
                    }
                      if (!hasAF1766_18) {
                        quizzes.push(AF1766_18);        
                    }
                      if (!hasAF1766_19) {
                        quizzes.push(AF1766_19);        
                    }
                      if (!hasAF1766_20) {
                        quizzes.push(AF1766_20);        
                    }
                    
                } catch (e) {
                    console.error('Error loading saved quizzes', e);
                    // If there's an error, start fresh with the sample quiz and our new quiz
                    quizzes = [AF1729,AF1766_1,AF1766_2, AF1766_3,AF1766_4,AF1766_5,AF1766_6,AF1766_7,AF1766_8,AF1766_9,AF1766_10,AF1766_11,AF1766_12,AF1766_13,AF1766_14,AF1766_15,AF1766_16,AF1766_17,AF1766_18,AF1766_19,AF1766_20];
                }
            } else {
                // No saved quizzes, initialize with both quizzes
                quizzes = [AF1729,AF1766_1,AF1766_2, AF1766_3,AF1766_4,AF1766_5,AF1766_6,AF1766_7,AF1766_8,AF1766_9,AF1766_10,AF1766_11,AF1766_12,AF1766_13,AF1766_14,AF1766_15,AF1766_16,AF1766_17,AF1766_18,AF1766_19,AF1766_20];
            }
            
            // Save the quizzes to persist the new quiz
            saveQuizzes();
        }
        
        // Save quizzes to localStorage
        function saveQuizzes() {
            try {
                localStorage.setItem('af1729quizzes', JSON.stringify(quizzes));
            } catch (e) {
                console.error('Error saving quizzes', e);
                alert('Kunde inte spara quizzen. Kontrollera din webbläsares lagringsinställningar.');
            }
        }
        
        // Initialize the application
        function init() {
            loadQuizzes();
            updateQuizList();
            
            // Event Listeners
            selectQuizButton.addEventListener('click', showQuizSelectionScreen);
            createQuizButton.addEventListener('click', showEditorScreen);
            saveQuizButton.addEventListener('click', saveQuiz);
            nextButton.addEventListener('click', handleNextButtonClick);
            restartButton.addEventListener('click', restartQuiz);
            homeButton.addEventListener('click', showWelcomeScreen);
            backFromEditorButton.addEventListener('click', showWelcomeScreen);
            backFromSelectionButton.addEventListener('click', showWelcomeScreen);
            selectAnotherButton.addEventListener('click', showQuizSelectionScreen);
            
            // Sync randomize toggles
            randomizeToggle.addEventListener('change', () => {
                editorRandomizeToggle.checked = randomizeToggle.checked;
            });
            
            editorRandomizeToggle.addEventListener('change', () => {
                randomizeToggle.checked = editorRandomizeToggle.checked;
            });
            
            randomizeQuestionsToggle.addEventListener('change', () => {
                editorRandomizeQuestionsToggle.checked = randomizeQuestionsToggle.checked;
            });
            
            editorRandomizeQuestionsToggle.addEventListener('change', () => {
                randomizeQuestionsToggle.checked = editorRandomizeQuestionsToggle.checked;
            });
        }
        
        // Update the quiz list in the selection screen
        function updateQuizList() {
            quizListContainer.innerHTML = '';
            
            quizzes.forEach((quiz, index) => {
                const quizItem = document.createElement('div');
                quizItem.classList.add('quiz-item');
                
                const quizInfo = document.createElement('div');
                
                const quizTitle = document.createElement('div');
                quizTitle.classList.add('quiz-title');
                quizTitle.textContent = quiz.name || `Quiz ${index + 1}`;
                
                const quizStats = document.createElement('div');
                quizStats.classList.add('quiz-info');
                quizStats.textContent = `${quiz.questions.length} frågor`;
                
                quizInfo.appendChild(quizTitle);
                quizInfo.appendChild(quizStats);
                
                const quizActions = document.createElement('div');
                quizActions.classList.add('quiz-actions');
                
                const startButton = document.createElement('button');
                startButton.classList.add('btn', 'btn-accent');
                startButton.textContent = 'Starta';
                startButton.addEventListener('click', () => {
                    startQuiz(index);
                });
                
                const editButton = document.createElement('button');
                editButton.classList.add('btn');
                editButton.textContent = 'Redigera';
                editButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    editQuiz(index);
                });
                
                quizActions.appendChild(startButton);
                quizActions.appendChild(editButton);
                
                quizItem.appendChild(quizInfo);
                quizItem.appendChild(quizActions);
                
                quizListContainer.appendChild(quizItem);
            });
        }
        
        // Show specific screen
        function showScreen(screen) {
            welcomeScreen.classList.remove('active');
            quizScreen.classList.remove('active');
            resultsScreen.classList.remove('active');
            editorScreen.classList.remove('active');
            quizSelectionScreen.classList.remove('active');
            
            screen.classList.add('active');
        }
        
        function showWelcomeScreen() {
            showScreen(welcomeScreen);
        }
        
        function showQuizSelectionScreen() {
            updateQuizList();
            showScreen(quizSelectionScreen);
        }
        
        function showEditorScreen(isEditing = false) {
            showScreen(editorScreen);
            if (!isEditing) {
                // Clear editor for new quiz
                quizEditor.value = JSON.stringify([
                    {
                        question: "Sample question",
                        options: ["Option 1", "Option 2", "Option 3", "Option 4"],
                        correct: 0
                    }
                ], null, 2);
                quizNameInput.value = "";
            }
        }
        
        function editQuiz(index) {
            const quiz = quizzes[index];
            quizNameInput.value = quiz.name;
            quizEditor.value = JSON.stringify(quiz.questions, null, 2);
            currentQuizIndex = index;
            showEditorScreen(true);
        }
        
        function saveQuiz() {
            try {
                const quizName = quizNameInput.value.trim() || `Quiz ${quizzes.length + 1}`;
                const questions = JSON.parse(quizEditor.value);
                
                if (!Array.isArray(questions) || questions.length === 0) {
                    throw new Error('Quiz must be a non-empty array of questions');
                }
                
                // Validate each question
                questions.forEach((question, index) => {
                    if (!question.question || !Array.isArray(question.options) || 
                        question.options.length < 2 || 
                        typeof question.correct !== 'number' ||
                        question.correct < 0 || 
                        question.correct >= question.options.length) {
                        throw new Error(`Question #${index + 1} is invalid. Each question needs a question text, at least 2 options, and a valid correct answer index.`);
                    }
                });
                
                const newQuiz = {
                    name: quizName,
                    questions: questions
                };
                
                if (currentQuizIndex >= 0) {
                    // Update existing quiz
                    quizzes[currentQuizIndex] = newQuiz;
                } else {
                    // Add new quiz
                    quizzes.push(newQuiz);
                }
                
                // Save to localStorage
                saveQuizzes();
                
                editorError.textContent = '';
                currentQuizIndex = -1;
                
                // Go to selection screen
                showQuizSelectionScreen();
            } catch (error) {
                editorError.textContent = error.message;
            }
        }
        
        function startQuiz(quizIndex) {
            currentQuizIndex = quizIndex;
            const quiz = quizzes[quizIndex];
            
            // Make a deep copy of the quiz questions
            currentQuestions = JSON.parse(JSON.stringify(quiz.questions));
            
            // Set title
            currentQuizTitle.textContent = quiz.name;
            
            // Randomize question order if enabled
            shouldRandomizeOptions = randomizeToggle.checked;
            shouldRandomizeQuestions = randomizeQuestionsToggle.checked;
            
            if (shouldRandomizeQuestions) {
                currentQuestions = shuffleArray(currentQuestions);
            }
            
            currentQuestionIndex = 0;
            score = 0;
            showScreen(quizScreen);
            displayQuestion();
        }
        
        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            const newArray = [...array]; // Create a copy to avoid modifying the original
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function displayQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            questionText.textContent = question.question;
            
            // Update progress bar
            const progress = ((currentQuestionIndex) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Prepare options with randomization if enabled
            let displayOptions = [];
            currentOptionsMapping = [];
            
            if (shouldRandomizeOptions) {
                // Create a mapping from display positions to original positions
                const indices = Array.from({ length: question.options.length }, (_, i) => i);
                const shuffledIndices = shuffleArray(indices);
                
                // Create display options in shuffled order
                shuffledIndices.forEach(originalIndex => {
                    displayOptions.push(question.options[originalIndex]);
                    currentOptionsMapping.push(originalIndex);
                });
            } else {
                // No randomization, use original order
                displayOptions = [...question.options];
                currentOptionsMapping = Array.from({ length: question.options.length }, (_, i) => i);
            }
            
            // Add options to the DOM
            displayOptions.forEach((option, displayIndex) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(displayIndex));
                optionsContainer.appendChild(optionElement);
            });
            
            // Reset state
            nextButton.textContent = 'Nästa';
            feedbackElement.style.display = 'none';
            selectedOptionIndex = -1;
            answeredCurrentQuestion = false;
        }
        
       
        function selectOption(displayIndex) {
            if (answeredCurrentQuestion) return;
            
            const question = currentQuestions[currentQuestionIndex];
            const options = optionsContainer.querySelectorAll('.option');
            
            // Convert display index to original index using our mapping
            const originalIndex = currentOptionsMapping[displayIndex];
            
            // Find the display index of the correct answer
            const correctDisplayIndex = currentOptionsMapping.findIndex(index => index === question.correct);
            
            // Clear previous selection
            options.forEach(option => option.classList.remove('selected'));
            
            // Mark new selection
            options[displayIndex].classList.add('selected');
            selectedOptionIndex = displayIndex;
            
            // Check answer
            if (originalIndex === question.correct) {
                options[displayIndex].classList.add('correct');
                feedbackElement.textContent = 'Rätt!';
                feedbackElement.className = 'feedback correct';
                score++;
            } else {
                options[displayIndex].classList.add('incorrect');
                options[correctDisplayIndex].classList.add('correct');
                feedbackElement.textContent = 'Fel. Rätt svar är: ' + question.options[question.correct];
                feedbackElement.className = 'feedback incorrect';
            }
            
            feedbackElement.style.display = 'block';
            answeredCurrentQuestion = true;
            
            // Change button text on last question
            if (currentQuestionIndex === currentQuestions.length - 1) {
                nextButton.textContent = 'Se Resultat';
            }
        }
        
        function handleNextButtonClick() {
            if (!answeredCurrentQuestion && selectedOptionIndex === -1) {
                // If no answer selected, prompt user to select one
                feedbackElement.textContent = 'Välj ett svar innan du fortsätter';
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.style.display = 'block';
                return;
            }
            
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                showResults();
            }
        }
        
        function showResults() {
            showScreen(resultsScreen);
            
            const percentage = Math.round((score / currentQuestions.length) * 100);
            percentageElement.textContent = `${percentage}%`;
            scoreElement.textContent = score;
            totalElement.textContent = currentQuestions.length;
        }
        
        function restartQuiz() {
            if (currentQuizIndex >= 0) {
                startQuiz(currentQuizIndex);
            } else {
                showWelcomeScreen();
            }
        }
        
        // Initialize the application
        init();
    </script>
</body>
</html>